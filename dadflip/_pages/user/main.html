<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Page d'Accueil</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
  <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
  <!-- Ajouter les liens vers les fichiers CSS de Swiper -->
  <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css">
  <link rel="stylesheet" href="/dadflip/assets/css/base.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/crypto-js.js"></script>


  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      background-color: #f0f0f0;
      background-image: url('/dadflip/flipApps/flip/app/user/modules/bg/8.png');
      background-repeat: no-repeat; /* Éviter la répétition */
      background-size: cover; /* Ajustement selon les besoins */
      overflow: auto; /* Ajout de la barre de défilement */
      transition: background-color 0.5s;
      z-index: 1;
    }

    .overlay-menu {
      height: 0;
      width: 0;
      position: fixed;
      z-index: 5;
      bottom: 20%;
      left: 50%;
      background-color: #000000;
      overflow-y: hidden;
      transition: width 0.5s, height 0.5s;
      border-radius: 10px;
      border:2px solid, #013603;
      transform: translateX(-50%);
      display: block;
      align-items: center;
      justify-content: center;
    }

    .overlay-menu a {
      top: 10%;
      padding: 32px 32px 32px 32px;
      text-decoration: none;
      font-size: 20px;
      color: #818181;
      display: block;
      transition: 0.3s;
      text-align: center;
    }

    .overlay-menu a:hover,
    .overlay-menu a:focus {
      color: #f1f1f1;
    }

    .overlay-menu {
      position: absolute;
      right: 25px;
      font-size: 40px;
      cursor: pointer;
      color: #818181;
      transition: transform 0.3s;
    }

    .closebtn {
      position: absolute;
      bottom: 10%;
      left: 50%;
      font-size: 40px;
    }

    .menu-btn {
      font-size: 70px;
      cursor: pointer;
      position: fixed;
      bottom: 80px;
      left: 50%;
      transform: translateX(-50%);
      color: #005c00;
      z-index: 2;
      transition: color 0.5s;
    }

    .search-bar {
      width: 300px;
      height: 40px;
      background-color: #ffffff00;
      border: 1px solid #ccc;
      border-radius: 20px;
      position: fixed;
      bottom: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      padding: 8px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      transition: width 0.5s;
    }

    .search-bar input {
      border: none;
      outline: none;
      width: calc(100% - 30px);
      padding: 8px;
      box-sizing: border-box;
      border-radius: 20px;
    }

    .search-bar:hover {
      width: 400px;
    }

    .search-bar .search-icon {
      font-size: 20px;
      color: #055e08;
      cursor: pointer;
      transition: transform 0.3s;
    }

    .search-bar:hover .search-icon {
      transform: rotate(90deg);
    }

    .content {
      text-align: center;
      margin-top: 50px;
      z-index: 0;
    }

    .swiper-container {
      width: 100%;
      height: 20%;
      position: fixed;
      bottom: 20%;

    }

    .swiper-slide {
      text-align: center;
      font-size: 18px;
      background: #f0f0f000;
      /* Autres styles pour chaque diapositive */
    }

    .banner {
      background-color: #f0f0f000;
      color: rgb(255, 255, 255);
      padding: 10px;
      text-align: center;
    }

    footer {
      background-color: #013603;
      color: white;
      padding: 10px;
      text-align: center;
      position: fixed;
      bottom: 0;
      width: 100%;
    }

    /* Media query pour les écrans de petite taille (téléphone) */
    @media (max-width: 768px) {

      .overlay-menu,
      .menu-btn,
      .search-bar {
        left: 50%;
        transform: translateX(-50%);
      }

      .content {
        margin-top: 20px;
      }

      /* Ajout de styles pour centrer le logo dans le header */
      .logo-container {
        text-align: center;
      }

      .banner img {
        width: 50px;
        /* Ajustez la taille selon vos besoins */
        height: auto;
      }
    }

    .loader {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      border: 6px solid #f3f3f3;
      border-top: 6px solid #3498db;
      border-radius: 50%;
      width: 50px;
      height: 50px;
      animation: spin 1s linear infinite;
      display: none;
      /* Pour cacher initialement le loader */
    }

    @keyframes spin {
      0% {
        transform: rotate(0deg);
      }

      100% {
        transform: rotate(360deg);
      }
    }
  </style>
</head>

<body>
    <header>
      <div class="logo-container">
        <img onclick="openNav()" src="/dadflip/flipApps/flip/app/user/modules/flip-img/7-removebg-preview.png" alt="Logo" width="10%">
      </div>
      <!-- Ajouter une structure pour le carrousel -->
      <div class="swiper-container">
        <div class="swiper-wrapper">
          <div class="swiper-slide">J'ai besoin d'aide pour un déménagement !</div>
          <div class="swiper-slide">Organiser un anniversaire ?</div>
          <div class="swiper-slide">Trouver un système pour booster la productivité de mon entreprise ?</div>
          <div class="swiper-slide">Faire des démarches administratives, quid ?</div>
          <div class="swiper-slide">DADFLIP SOLUTIONS</div>
          <!-- Ajoutez autant de diapositives que nécessaire -->
        </div>
        <!-- Ajouter la pagination -->
        <div class="swiper-pagination"></div>
      </div>
    </header>
    <!-- Menu Overlay -->
    <div id="myNav" class="overlay-menu">
      <a href="/dadflip/">ACCUEIL</a>
      <a href="https://dadflipcorp.wixsite.com/dadflip-solutions">SOLUTIONS</a>
      <a href="/dadflip/flipApps/flip/app/user/main.php">APPLICATIONS</a>
      <a href="#">CONTACTS</a>
      <a href="#" onclick="closeNav()">&#9660;</a>
    </div>

    <!-- Bouton pour ouvrir le menu -->
    <div class="menu-btn" onclick="openNav()">&#9673;</div>

    <!-- Barre de recherche avec champ de saisie masqué -->
    <div class="search-bar">
      <input type="text" id="barre-recherche" placeholder="What is your request?" onkeydown="handleKeyPress(event)">
      <div class="search-icon" onclick="effectuerRecherche()">&#10148;</div>
    </div>

    <!-- Loader -->
    <div class="loader" id="loader"></div>



    <div class="content">
      <div class="banner">
        <h1>Geany RDX</h1>
      </div>
    </div>

  <!-- Ajouter les liens vers les fichiers JavaScript de Swiper -->
  <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
  <script src="/dadflip/assets/js/base.js"></script>
  <script>
    // Initialiser Swiper lors du chargement de la page
    document.addEventListener('DOMContentLoaded', function () {
      var mySwiper = new Swiper('.swiper-container', {
        // Paramètres de configuration Swiper ici
        loop: true, // Faire défiler en boucle
        autoplay: {
          delay: 5000, // Définir l'intervalle entre les diapositives en millisecondes
        },
        pagination: {
          el: '.swiper-pagination',
          clickable: true,
        },
      });
    });
    function openNav() {
      document.getElementById("myNav").style.width = "50%";
      document.getElementById("myNav").style.height = "50%";
      document.body.style.backgroundColor = "rgba(0,0,0,0.5)";
      document.querySelector('.menu-btn').style.color = '#fff';
    }

    function closeNav() {
      document.getElementById("myNav").style.width = "0";
      document.getElementById("myNav").style.height = "0";
      document.body.style.backgroundColor = "#f0f0f0";
      document.querySelector('.menu-btn').style.color = '#000000';
    }

    function encryptText(text) {
      // Implémenter une fonction de chiffrement côté client (par exemple, CryptoJS)
      // Note : Cela est simplifié et doit être adapté à vos besoins de sécurité
      var encryptedText = CryptoJS.AES.encrypt(text, 'clé_secrète').toString();
      return encryptedText;
    }

    function effectuerRecherche() {
      // Récupérer le terme de recherche depuis la barre de recherche
      var termeRecherche = $('#barre-recherche').val();

      // Chiffrer le texte avant l'envoi
      var texteChiffre = encryptText(termeRecherche);

      // Afficher le loader pendant la requête
      $('#loader').show();

      // Effectuer la requête AJAX vers le script de recherche (recherche.php)
      $.ajax({
        url: 'rdx.php',
        type: 'POST',
        data: { q: texteChiffre },
        dataType: 'json',
        success: function (resultats) {
          // Masquer le loader après la réception des résultats
          $('#loader').hide();

          // Afficher les résultats dynamiquement
          afficherResultats(resultats);
        },
        error: function () {
          console.error('Erreur lors de la requête AJAX');

          // Masquer le loader en cas d'échec de la requête
          $('#loader').hide();

          // Rediriger vers la page d'erreur en cas d'échec de la requête
          window.location.href = 'x_error_x.php';
        }
      });
    }

    // Fonction pour gérer la touche "Enter"
    function handleKeyPress(event) {
      if (event.key === 'Enter') {
        // Appeler la fonction effectuerRecherche lorsque la touche "Enter" est pressée
        effectuerRecherche();
      }
    }
  </script>
  <footer>
    <p> &copy; Dadflip Solutions 2024</p>
  </footer>
</body>

</html>